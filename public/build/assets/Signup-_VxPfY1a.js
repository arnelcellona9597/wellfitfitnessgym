import{r as t,j as e}from"./app-Dq08WHqT.js";import{M as v}from"./Head-0RNbCExt.js";import"./Helmet-CeKV6j1M.js";function w(){const f=()=>Math.floor(1e9+Math.random()*9e9).toString(),[a,x]=t.useState({first_name:"",last_name:"",email:"",password:"",type:"Member",verification_code:f()}),[s,c]=t.useState({}),[l,m]=t.useState(""),[g,_]=t.useState(!0),[u,d]=t.useState(!1),[r,p]=t.useState(0),[j,y]=t.useState(!1);t.useEffect(()=>{if(r>0){const n=setTimeout(()=>p(r-1),1e3);return()=>clearTimeout(n)}},[r]);const i=n=>{x({...a,[n.target.name]:n.target.value})},S=async n=>{var h;n.preventDefault(),c({}),m(""),d(!0);try{const o=await fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(h=document.querySelector('meta[name="csrf-token"]'))==null?void 0:h.getAttribute("content")},body:JSON.stringify(a)}),b=await o.json();console.log("response: ",o),console.log("result: ",b),m("Check your email to activate your account..."),p(60),y(!0)}catch{c({general:"Email already exists, try to create a new one."})}finally{d(!1)}},N=()=>u?"Submitting...":r>0?`Resend in ${r}s`:j?"Resend Verification Code":"Sign Up";return e.jsx(e.Fragment,{children:e.jsx("span",{className:"bg-img-v-2",children:e.jsx("section",{className:"section-404",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"text-404",children:[e.jsx("h1",{children:"Sign Up"}),e.jsx("h3",{children:"Create Your Fitness Account Today"}),e.jsx("p",{children:"Sign up now to start your fitness journey, access personalized plans, and unlock exclusive member benefits."}),s.general&&e.jsx("p",{className:"alert alert-danger",children:s.general}),l&&e.jsx("p",{className:"alert alert-success",children:l}),g&&e.jsxs("form",{onSubmit:S,className:"search-404",children:[e.jsx("input",{type:"hidden",name:"type",value:a.type}),e.jsx("input",{type:"hidden",name:"verification_code",value:a.verification_code}),e.jsx("input",{type:"text",name:"first_name",placeholder:"Enter your First Name",value:a.first_name,onChange:i,required:!0}),s.first_name&&e.jsx("p",{className:"text-danger",children:s.first_name}),e.jsx("input",{type:"text",name:"last_name",placeholder:"Enter your Last Name",value:a.last_name,onChange:i,required:!0}),s.last_name&&e.jsx("p",{className:"text-danger",children:s.last_name}),e.jsx("input",{type:"email",name:"email",placeholder:"Enter your Email",value:a.email,onChange:i,required:!0}),s.email&&e.jsx("p",{className:"text-danger",children:s.email}),e.jsx("input",{type:"password",name:"password",placeholder:"Create a Password",value:a.password,onChange:i,required:!0}),s.password&&e.jsx("p",{className:"text-danger",children:s.password}),e.jsx("br",{}),e.jsxs("button",{type:"submit",className:"color-white",disabled:u||r>0,children:[e.jsx("i",{className:"fa fa-sign-in"})," ",N()]})]}),e.jsxs("a",{href:"/signin",className:"fs-11 color-orange",children:[e.jsx("i",{className:"fa fa-sign-in"})," Already have an account? Sign In"]}),e.jsx("br",{}),e.jsxs("a",{href:"/forgot",className:"fs-11 color-orange",children:[e.jsx("i",{className:"fa fa-question"})," Forgot Account?"]}),e.jsx("br",{}),e.jsxs("a",{href:"/",className:"fs-11 color-orange",children:[e.jsx("i",{className:"fa fa-home"})," Home Page"]})]})})})})})})})}function T(){return e.jsxs(e.Fragment,{children:[e.jsx(v,{}),e.jsx(w,{})]})}export{T as default};
