import{X as d,r as h,j as e}from"./app-DBAGK7IV.js";import{A as u,a as f,b as x,c as p}from"./Footer-CgUffekk.js";import{h as j}from"./moment-C5S46NFB.js";import{X as b}from"./index.es-DacanCkV.js";import"./Helmet-C-R_2MwY.js";const g=()=>{const{reviews:i}=d().props,[n,l]=h.useState(""),o=[{name:"Name",selector:t=>`${t.first_name} ${t.last_name}`,sortable:!0},{name:"Image",selector:t=>e.jsx("img",{src:t.profile?`/template/images/${t.profile}`:"/template/member/img/Portrait_Placeholder.png",alt:"No image",style:{width:"50px"}}),sortable:!0},{name:"Date",selector:t=>t.created_at?j(t.created_at).format("MMMM D, YYYY"):"N/A",sortable:!0},{name:"Rating",selector:t=>e.jsx("div",{children:Array.from({length:5},(s,r)=>e.jsx("span",{style:{color:r<t.rate?"#FFD700":"#ccc"},children:"â˜…"},r))}),sortable:!0},{name:"Option",cell:t=>e.jsx("a",{href:"#",onClick:s=>{s.preventDefault(),c(t.id)},children:"Delete"})}],c=async t=>{var r;if(console.log("Delete reviewship with ID:",t),!!window.confirm("Are you sure you want to delete this review?"))try{(await fetch(`/admin/reviews/reviews/delete?id=${t}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content")},body:JSON.stringify({id:t})})).ok?(alert("Successfully deleted."),window.location.href="/admin/reviews"):alert("Failed to delete.")}catch(a){console.error("Error submitting:",a)}},m=i.filter(t=>`${t.first_name} ${t.last_name}`.toLowerCase().includes(n.toLowerCase()));return e.jsx("div",{children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card recent-sales overflow-auto",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:"List Of Members"}),e.jsx(b,{columns:o,data:m,pagination:!0,highlightOnHover:!0,subHeader:!0,subHeaderComponent:e.jsx("input",{type:"text",placeholder:"Search",onChange:t=>l(t.target.value),style:{width:"100%",margin:"0"}})})]})})})})};function C(){return e.jsxs(e.Fragment,{children:[e.jsx(u,{}),e.jsx(f,{}),e.jsx(x,{}),e.jsxs("main",{id:"main",className:"main",children:[e.jsxs("div",{className:"pagetitle",children:[e.jsx("h1",{children:"Reviews"}),e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"#",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item active",children:"Client Reviews"})]})})]}),e.jsx("section",{className:"section dashboard",children:e.jsx(g,{})})]}),e.jsx(p,{})]})}export{C as default};
