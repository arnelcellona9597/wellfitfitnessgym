import{r as s,j as e}from"./app-Dq08WHqT.js";import{M as v}from"./Head-0RNbCExt.js";import"./Helmet-CeKV6j1M.js";function w(){const[o,h]=s.useState({email:""}),[i,n]=s.useState({}),[c,l]=s.useState(""),[j,F]=s.useState(!0),[m,u]=s.useState(!1),[a,d]=s.useState(0),[x,p]=s.useState(!1);s.useEffect(()=>{if(a>0){const t=setTimeout(()=>d(a-1),1e3);return()=>clearTimeout(t)}},[a]);const S=t=>{h({...o,[t.target.name]:t.target.value})},b=async t=>{var g;t.preventDefault(),n({}),l(""),u(!0);try{const r=await fetch("/forgot",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content")},body:JSON.stringify(o)});if(!r.ok){const y=await r.json();n({general:y.message||"Wrong email or password!"});return}const f=await r.json();console.log(f),f.email_verified_at===null?n({general:"Email is not yet verified!"}):(l("Please check your email to reset your password."),d(60),p(!0))}catch(r){console.error("Error during activation:",r),n({general:"Email account could NOT be found!"})}finally{u(!1)}},N=()=>m?"Submitting...":a>0?`Resend in ${a}s`:x?"Resend Verification":"Submit";return e.jsx(e.Fragment,{children:e.jsx("span",{className:"bg-img-v-3",children:e.jsx("section",{className:"section-404",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"text-404",children:[e.jsx("h1",{children:"Forgot Password"}),e.jsx("h3",{children:"Sign In to Access Your Fitness Journey"}),e.jsx("p",{children:"Sign in to your fitness account to manage your training plans, book classes, and monitor your progress today."}),i.general&&e.jsx("p",{className:"alert alert-danger",children:i.general}),c&&e.jsx("p",{className:"alert alert-success",children:c}),j&&e.jsxs("form",{onSubmit:b,className:"search-404",children:[e.jsx("input",{type:"email",name:"email",value:o.email,onChange:S,placeholder:"Enter email...",required:!0}),e.jsx("br",{}),e.jsxs("button",{type:"submit",className:"color-white",disabled:m||a>0,children:[e.jsx("i",{className:"fa fa-sign-in"})," ",N()]})]}),e.jsxs("a",{href:"/signup",className:"fs-11 color-orange mb-3",children:[e.jsx("i",{className:"fa fa-plus"})," Don't have an account? Sign Up"]}),e.jsx("br",{}),e.jsxs("a",{href:"/signin",className:"fs-11 color-orange mb-3",children:[e.jsx("i",{className:"fa fa-sign-in"})," Already have an account? Sign In"]}),e.jsx("br",{}),e.jsxs("a",{href:"/",className:"fs-11 color-orange",children:[e.jsx("i",{className:"fa fa-home"})," Home Page"]})]})})})})})})})}function R(){return e.jsxs(e.Fragment,{children:[e.jsx(v,{}),e.jsx(w,{})]})}export{R as default};
