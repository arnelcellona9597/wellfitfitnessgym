import{r as c,j as e}from"./app-QxuAwUI4.js";import{A as N,a as b,b as v,c as g}from"./Footer-DMX-HVqM.js";import"./Helmet-B22VUIBA.js";const w=()=>{const[t,u]=c.useState(""),[r,x]=c.useState(""),[l,j]=c.useState(""),[n,f]=c.useState(""),m=()=>Math.floor(1e9+Math.random()*9e9).toString(),p=async a=>{var d;if(a.preventDefault(),!t.trim()||!r.trim()||!l.trim()||!n.trim()){alert("Please fill all the required fields.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){alert("Please enter a valid email address.");return}const s=new FormData;s.append("first_name",t),s.append("last_name",r),s.append("email",l),s.append("password",n),s.append("verification_code",m()),console.log("first_name: "+t),console.log("last_name: "+r),console.log("email: "+l),console.log("password: "+n),console.log("verification_code: "+m());try{const i=(d=document.querySelector('meta[name="csrf-token"]'))==null?void 0:d.getAttribute("content"),h=await fetch("/admin/signup",{method:"POST",headers:{"X-CSRF-TOKEN":i},body:s}),o=await h.json();console.log(o),h.ok?(alert("Account added successfully."),window.location.href="/admin/list-account"):alert((o==null?void 0:o.message)||"Failed to add account.")}catch(i){console.error("Adding failed:",i),alert("An error occurred while adding the account.")}};return e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:"Add/Register an Account"}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{htmlFor:"first_name",className:"col-sm-2 col-form-label",children:"First Name"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"text",id:"first_name",name:"first_name",className:"form-control",value:t,onChange:a=>u(a.target.value)})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{htmlFor:"last_name",className:"col-sm-2 col-form-label",children:"Last Name"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"text",id:"last_name",name:"last_name",className:"form-control",value:r,onChange:a=>x(a.target.value)})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{htmlFor:"email",className:"col-sm-2 col-form-label",children:"Email"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"email",id:"email",name:"email",className:"form-control",value:l,onChange:a=>j(a.target.value)})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{htmlFor:"password",className:"col-sm-2 col-form-label",children:"Password"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"password",id:"password",name:"password",className:"form-control",value:n,onChange:a=>f(a.target.value)})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})]})})};function F(){return e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsx(b,{}),e.jsx(v,{}),e.jsxs("main",{id:"main",className:"main",children:[e.jsxs("div",{className:"pagetitle",children:[e.jsx("h1",{children:"Sign-up"}),e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"#",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item active",children:"Create an Account for Customer"})]})})]}),e.jsx("section",{className:"section dashboard",children:e.jsx(w,{})})]}),e.jsx(g,{})]})}export{F as default};
