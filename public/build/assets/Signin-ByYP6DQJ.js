import{r as a,j as e}from"./app-C9ra5Yxw.js";import{M as S}from"./Head-B2TckV1k.js";function b(){const[r,o]=a.useState({email:"",password:""}),[i,n]=a.useState({}),[l,c]=a.useState(""),[f,p]=a.useState(!0),[m,u]=a.useState(!1),d=t=>{o({...r,[t.target.name]:t.target.value})},j=async t=>{var g;t.preventDefault(),n({}),c(""),u(!0);try{const s=await fetch("/signin",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content")},body:JSON.stringify(r)});if(!s.ok){const x=await s.json();n({general:x.message||"Wrong email or password!"});return}const h=await s.json();console.log(h),h.email_verified_at===null?(console.log("Email is not verified"),n({general:"Please verify your email before logging in."})):(c("Successfully logged in! Redirecting to dashboard..."),o({email:"",password:""}),p(!1),setTimeout(()=>{window.location.href="/member/"},3e3))}catch(s){console.error("Error during activation:",s),n({general:"Wrong email or password!"})}finally{u(!1)}};return e.jsx(e.Fragment,{children:e.jsx("span",{className:"bg-img-v-1",children:e.jsx("section",{className:"section-404",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12",children:e.jsxs("div",{className:"text-404",children:[e.jsx("h1",{children:"Sign In"}),e.jsx("h3",{children:"Sign In to Access Your Fitness Journey"}),e.jsx("p",{children:"Sign in to your fitness account to manage your training plans, book classes, and monitor your progress today."}),i.general&&e.jsx("p",{className:"alert alert-danger",children:i.general}),l&&e.jsx("p",{className:"alert alert-success",children:l}),f&&e.jsxs("form",{onSubmit:j,className:"search-404",children:[e.jsx("input",{type:"email",name:"email",value:r.email,onChange:d,placeholder:"Enter email...",required:!0}),e.jsx("input",{type:"password",name:"password",value:r.password,onChange:d,placeholder:"Enter password...",required:!0}),e.jsx("br",{}),e.jsxs("button",{type:"submit",className:"color-white",disabled:m,children:[e.jsx("i",{className:"fa fa-plus"})," ",m?"Authenticating ...":"Signin"]})]}),e.jsxs("a",{href:"/signup",className:"fs-11 color-orange mb-3",children:[e.jsx("i",{className:"fa fa-plus"})," Don't have an account? Sign Up"]})," ",e.jsx("br",{}),e.jsxs("a",{href:"/forgot",className:"fs-11 color-orange mb-3",children:[e.jsx("i",{className:"fa fa-question"})," Forgot Account?"]}),e.jsx("br",{}),e.jsxs("a",{href:"/",className:"fs-11 color-orange",children:[e.jsx("i",{className:"fa fa-home"})," Home Page "]})]})})})})})})})}function w(){return e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx(b,{})]})}export{w as default};
