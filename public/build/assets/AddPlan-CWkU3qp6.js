import{r as t,j as e}from"./app-D9cl6I5v.js";import{A as m,a as o,b as d,c as p}from"./Footer-C8jSd8GC.js";import"./Helmet-D5oZ0rTI.js";const h=()=>{const[a,l]=t.useState({planName:"",description:"",price:"",duration:""}),n=async s=>{var i;if(s.preventDefault(),a.planName.trim()===""||a.description.trim()===""||a.price===""||a.duration===""){alert("Please fill all the required fields.");return}try{const r=await fetch("/admin/membership/list-of-membership-plan/add",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(i=document.querySelector('meta[name="csrf-token"]'))==null?void 0:i.getAttribute("content")},body:JSON.stringify({plan_name:a.planName,plan_description:a.description,price:a.price,duration:`${a.duration} month${a.duration>1?"s":""}`})}),c=await r.json();console.log(c),r.ok?(alert("Plan updated successfully."),window.location.href="/admin/membership/list-of-membership-plan"):alert("Failed to update plan.")}catch(r){console.error("Update failed:",r)}};return e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:"Create a New Membership Plan"}),e.jsxs("form",{onSubmit:n,children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{htmlFor:"planName",className:"col-sm-2 col-form-label",children:"Plan Name"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"text",id:"planName",name:"planName",className:"form-control",value:a.planName,onChange:s=>l({...a,planName:s.target.value})})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{htmlFor:"description",className:"col-sm-2 col-form-label",children:"Description"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("textarea",{id:"description",name:"description",className:"form-control",value:a.description,onChange:s=>l({...a,description:s.target.value})})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{htmlFor:"price",className:"col-sm-2 col-form-label",children:"Price (â‚±)"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"number",id:"price",name:"price",className:"form-control",value:a.price,onChange:s=>l({...a,price:s.target.value})})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{htmlFor:"duration",className:"col-sm-2 col-form-label",children:"Duration (Months)"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"number",id:"duration",name:"duration",className:"form-control",value:a.duration,onChange:s=>l({...a,duration:s.target.value})})})]}),e.jsxs("div",{className:"row mb-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Submit"})})]})]})]})})};function b(){return e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(o,{}),e.jsx(d,{}),e.jsxs("main",{id:"main",className:"main",children:[e.jsxs("div",{className:"pagetitle",children:[e.jsx("h1",{children:"Add Plan"}),e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"#",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item active",children:"Add Plan"})]})})]}),e.jsx("section",{className:"section dashboard",children:e.jsx(h,{})})]}),e.jsx(p,{})]})}export{b as default};
