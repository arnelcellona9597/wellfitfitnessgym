import{X as m,r as h,j as e}from"./app-DZ0vAk-i.js";import{A as u,a as f,b as p,c as x}from"./Footer-xv49gKwZ.js";import{X as j}from"./index.es-EaFPWZnK.js";import"./Helmet-Bf1uoCAg.js";const b=()=>{const{all_users:i}=m().props,[n,l]=h.useState(""),o=[{name:"Profile",selector:s=>e.jsx("img",{src:s.profile?`/template/images/${s.profile}`:"/template/member/img/Portrait_Placeholder.png",alt:"No image",style:{width:"50px"}}),sortable:!0},{name:"Name",selector:s=>`${s.first_name} ${s.last_name}`,sortable:!0},{name:"Phone",selector:s=>s.phone?`${s.phone}`:"N/A",sortable:!0},{name:"Email",selector:s=>`${s.email}`,sortable:!0},{name:"Option",cell:s=>e.jsxs(e.Fragment,{children:[e.jsx("a",{href:`/admin/profile?id=${s.id}`,children:"View"}),"   |   ",e.jsx("a",{href:"#",onClick:t=>{t.preventDefault(),c(s.id)},children:"Delete"})]})}],c=async s=>{var r;if(window.confirm("Are you sure you want to delete this user?"))try{(await fetch(`/admin/list-account/delete?id=${s}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content")},body:JSON.stringify({id:s})})).ok?(alert("Successfully deleted."),window.location.href="/admin/list-account"):alert("Failed to delete membership.")}catch(a){console.error("Error submitting:",a)}},d=i.filter(s=>s.first_name.toLowerCase().includes(n.toLowerCase()));return e.jsx("div",{children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card recent-sales overflow-auto",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:"List Of Accounts"}),e.jsx(j,{columns:o,data:d,pagination:!0,highlightOnHover:!0,subHeader:!0,subHeaderComponent:e.jsx("input",{type:"text",placeholder:"Search",onChange:s=>l(s.target.value),style:{width:"100%",margin:"0"}})})]})})})})};function v(){return e.jsxs(e.Fragment,{children:[e.jsx(u,{}),e.jsx(f,{}),e.jsx(p,{}),e.jsxs("main",{id:"main",className:"main",children:[e.jsxs("div",{className:"pagetitle",children:[e.jsx("h1",{children:"List of All Accounts"}),e.jsx("nav",{children:e.jsxs("ol",{className:"breadcrumb",children:[e.jsx("li",{className:"breadcrumb-item",children:e.jsx("a",{href:"#",children:"Home"})}),e.jsx("li",{className:"breadcrumb-item active",children:"List of All Accounts"})]})})]}),e.jsx("section",{className:"section dashboard",children:e.jsx(b,{})})]}),e.jsx(x,{})]})}export{v as default};
